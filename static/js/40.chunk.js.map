{"version":3,"file":"static/js/40.chunk.js","sources":["/Users/linyitang/Desktop/newWallet2/src/page/coldWallet/ethereumColdWallet/sendTx.jsx"],"sourcesContent":["import React, { Component } from 'react';\n// import qrcode from '../../../lib/qrcode';\n// import '../../component/camera.css';\n\n\n\n\n// function phone() {\n\n//     var iDevices = [\n//         'iPad Simulator',\n//         'iPhone Simulator',\n//         'iPod Simulator',\n//         'iPad',\n//         'iPhone',\n//         'iPod',\n//         'Android'\n//     ];\n\n//     if (!!navigator.platform) {\n//         while (iDevices.length) {\n//             if (navigator.platform === iDevices.pop()) { return true; }\n//         }\n//     }\n\n//     return false;\n// }\n\nexport default class SendTx extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            scanner: null,\n            value: ''\n        }\n    }\n    componentWillUnmount = () => {\n        this.state.scanner && this.state.scanner.stop()\n    }\n\n    // openQRCamera = (e) => {\n    //     if (phone()) {\n    //         let reader = new FileReader();\n    //         qrcode.callback = (res) => {\n    //             if (res instanceof Error) {\n    //                 alert(\"No QR code found. Please make sure the QR code is within the camera's frame and try again.\");\n    //             } else {\n    //                 this.state.value = res;\n    //                 this.forceUpdate();\n    //             }\n    //         };\n    //         reader.onload = () => {\n    //             qrcode.decode(reader.result);\n    //         };\n    //         reader.readAsDataURL(e.target.files[0]);\n    //     } else {\n    //         import('instascan').then((Instascan) => {\n    //             this.state.scanner = new Instascan.Scanner({ video: document.getElementById(`preview`) });\n    //             this.state.scanner.addListener('scan', (content) => {\n    //                 this.state.value = content;\n    //                 this.state.scanner.stop()\n    //                 this.state.scanner = false;\n    //                 this.forceUpdate()\n    //             });\n    //             Instascan.Camera.getCameras().then((cameras) => {\n    //                 if (cameras.length > 0) {\n    //                     this.state.scanner.start(cameras[0]);\n    //                 } else {\n    //                     console.error('No cameras found.');\n    //                 }\n    //             }).catch(function (e) {\n    //                 console.error(e);\n    //             });\n    //             this.forceUpdate()\n    //         })\n    //     }\n    // }\n    // submit() {\n    //     this.props.ethereumState.sendTx(this.state.value).then((txid) => alert(`交易: ${txid} 已發送`));\n    // }\n    render() {\n        return (\n            <div className=\"box box-primary\">\n                <div className=\"box-header with-border\">\n                    <h3 className=\"box-title\">掃描簽名完交易並送出</h3>\n                </div>\n                <div className=\"box-body\">\n                    <div className=\"form-group\">\n                        <button className=\"btn btn-primary\"\n                            onClick={this.openQRCamera}\n                        >\n                            <i className=\"fa fa-camera\"></i>\n                            <span>開啟攝像頭</span>\n                            <video id={'preview'} className=\"camera\" style={{ display: this.state.scanner ? 'block' : 'none' }} ></video>\n                        </button>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>簽名後交易內容</label>\n                        <textarea className=\"form-control\" rows=\"5\" placeholder=\"Singed Tx\" value={this.state.value}></textarea>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>選擇區塊鏈網路</label>\n                        <select className=\"form-control\">\n                            <option value=\"2\">ethereum ropsten(testnet)</option>\n                            <option value=\"3\">ethereum mainnet</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"box box-footer\">\n                    <button className=\"btn btn-primary\" onClick={this.submit} >發送</button>\n                </div>\n            </div>\n\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AACA;AACA;AARA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;AAtFA;AACA;AADA;;;;;;;;;;;;AAAA;;;;;;;;;A","sourceRoot":""}